<!DOCTYPE html>
<html>
<head>
  <title>Test Supabase Mood Save</title>
  <script type="module" src="./supabaseClient.js?v=2025.01.09E"></script>
  <script type="module" src="./testSave.js?v=2025.01.09E"></script>
</head>
<body>
  <h1>Test Mood Save</h1>
  <button onclick="saveMood('Happy')">Save "Happy"</button>
  <ul id="moodList"></ul>
  <script>
    (function(){
      const version = window.STAR_BUILD_VERSION || '2025.01.09E';
      if (!window.STAR_BUILD_VERSION) window.STAR_BUILD_VERSION = version;
      const ensureBadge = () => {
        if (document.getElementById('star-build-version')) return;
        const badge = document.createElement('div');
        badge.id = 'star-build-version';
        badge.textContent = `Build ${version}`;
        badge.style.cssText = `
          position:fixed;
          right:12px;
          bottom:12px;
          background:rgba(17,17,17,0.85);
          color:#f9fafb;
          font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
          font-size:11px;
          font-weight:600;
          letter-spacing:0.02em;
          padding:6px 10px;
          border-radius:10px;
          box-shadow:0 6px 18px rgba(0,0,0,0.18);
          z-index:998;
          pointer-events:none;
        `;
        document.body.appendChild(badge);
      };
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', ensureBadge, { once: true });
      } else {
        ensureBadge();
      }
    })();
  </script>
</body>
</html>
